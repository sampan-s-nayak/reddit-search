{"version":3,"sources":["redditApi.js","index.js"],"names":["search","text","sortBy","searchLimit","fetch","then","response","json","data","children","map","catch","err","console","log","textInput","document","getElementById","rangeInput","relevance","latest","errorMsg","output","submit","event","value","checked","showMessage","focus","outputContent","reddit","result","forEach","post","img","preview","images","source","url","title","reduceTextContent","selftext","innerHTML","style","display","message","error","createElement","innerText","appendChild","setTimeout","removeChild","querySelector","addEventListener","keyCode","limit","index","indexOf","substring"],"mappings":"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","file":"redit.e31bb0bc.map","sourceRoot":"..","sourcesContent":["export default {\n\tsearch:function(text,sortBy,searchLimit){\n\t\treturn fetch(`http://www.reddit.com/search.json?q=${text}&sort=${sortBy}&limit=${searchLimit}`)\n\t\t.then(response => response.json())\n\t\t.then(data=>\n\t\t\t{\n\t\t\t\treturn (data.data.children.map(data => data.data));\n\t\t\t})\n\t\t.catch(err => console.log(err));\n\t}\n};","// *\n// * program to search data on redit using redit api\n// *\n// todo: check other truncate functions online\n// todo: handling urls inside post.selftext\n\n\nimport reddit from './redditApi';\n// * dom elements\nconst textInput = document.getElementById(\"search\");\nconst rangeInput = document.getElementById(\"range\");\nconst relevance = document.getElementById(\"relevance\");\nconst latest = document.getElementById(\"latest\");\nconst errorMsg = document.getElementById(\"error\");\nconst output = document.getElementById(\"output\");\n\n// * functions\nfunction submit(event){\n\tconst text = textInput.value;\n\tconst sortBy = (relevance.checked)?\"relevance\":\"new\";\n\tconst searchLimit = rangeInput.value;\n\t// * checking for empty input:\n\tif(text == ''){\n\t\tshowMessage(\"enter a search item\");\n\t}\n\t// * clearing search value\n\ttextInput.value = '';\n\ttextInput.focus();\n\n\t// * reddit search: (handled inside module)\n\tlet outputContent = '';\n\treddit.search(text,sortBy,searchLimit)\n\t.then(result => {\n\t\tresult.forEach(post => {\n\t\t\tlet img = (post.preview)?post.preview.images[0].source.url:\"https://proxy.duckduckgo.com/iu/?u=http%3A%2F%2Fdwglogo.com%2Fwp-content%2Fuploads%2F2015%2F11%2FReddit-Mascot-Logo.png&f=1\";\n\t\t\t\n\t\t\toutputContent += `<div class=\"card-outer\">\n\t\t\t\t<img src =\"${img}\">\n\t\t\t\t<div class=\"card\">\n\t\t\t\t\t<h4>${post.title}</h4>\n\t\t\t\t\t<p>${reduceTextContent(post.selftext,100)}</p>\n\t\t\t\t\t<div class=\"center\">\n\t\t\t\t\t<a class=\"btn-submit card-btn\" href=\"${post.url}\" target=\"_blank\">Read more</a>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>`;\n\t\t\tconsole.log(post);\n\t\t});\n\t\toutput.innerHTML = outputContent;\n\t});\n\tdocument.getElementById(\"output-container\").style.display = \"block\";\n}\n\nfunction showMessage(message){\n\tconst error = document.createElement(\"p\");\n\terror.innerText = message;\n\terrorMsg.appendChild(error);\n\terrorMsg.style.display = \"block\";\n\t// set time out:\n\tsetTimeout(()=>{\n\t\terrorMsg.removeChild(error);\n\t\terrorMsg.style.display = \"none\";\n\t},3000);\n}\n\n// * event listeners\ndocument.querySelector(\".submit\").addEventListener(\"click\",submit);\n//* enter also does same\ntextInput.addEventListener(\"keydown\",event=>{\n\tif(event.keyCode === 13)\n\t\tsubmit();\n});\n\n\n// *trucate the text content:\n// todo: check other truncate functions online\n// todo: handling urls inside post.selftext\nfunction reduceTextContent(text,limit){\n\tlet index = text.indexOf(' ',limit);\n\treturn (index != -1)?text.substring(0,index):\n\t\t\t\t\t\t\t\t\t\t\ttext;\n}\n\n// ! NOT REQUIRED !\n// * as its compulsary for one of the radio buttons to be checked \n// //function changeState(event){\n// //\tif(this.value == \"on\"){\n// //\t\tthis.value = \"off\";\n// //\t}\n// //\telse{\n// //\t\tthis.checked = false;\n// //\t\tthis.value = \"on\";\n// //\t}\n// //}\n\n// * event listeners\n//// relevance.addEventListener(\"click\",changeState);\n// //latest.addEventListener(\"click\",changeState);"]}